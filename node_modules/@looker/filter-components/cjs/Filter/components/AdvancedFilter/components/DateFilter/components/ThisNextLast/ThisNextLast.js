"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ThisNextLast = void 0;

var _react = _interopRequireDefault(require("react"));

var _constants = require("../../../../../../constants");

var _show_fiscal_units = require("../../../../utils/show_fiscal_units");

var _GroupSelect = require("../../../GroupSelect");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const useOptions = ({
  type
}, field) => {
  const showFiscal = (0, _show_fiscal_units.showFiscalUnits)(field);
  const lastUnits = (0, _constants.useLastUnits)();
  const fiscalLastUnits = (0, _constants.useFiscalLastUnits)();
  const thisNextUnits = (0, _constants.useThisNextUnits)();
  const fiscalThisNextUnits = (0, _constants.useFiscalThisNextUnits)();

  if (type === 'last') {
    return showFiscal ? fiscalLastUnits : lastUnits;
  }

  return showFiscal ? fiscalThisNextUnits : thisNextUnits;
};

const ThisNextLast = ({
  item,
  onChange,
  field
}) => {
  const id = item.id,
        unit = item.unit;

  const unitChange = value => onChange(id, {
    unit: value
  });

  const options = useOptions(item, field);
  return _react.default.createElement(_GroupSelect.GroupSelect, {
    value: unit,
    options: options,
    onChange: unitChange,
    placement: "right"
  });
};

exports.ThisNextLast = ThisNextLast;
//# sourceMappingURL=ThisNextLast.js.map