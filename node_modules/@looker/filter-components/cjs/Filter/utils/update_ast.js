"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.updateASTFromProps = void 0;

var _filterExpressions = require("@looker/filter-expressions");

const updateASTFromProps = (type, expression, userAttributes) => {
  const _typeToGrammar = (0, _filterExpressions.typeToGrammar)(type),
        subTypes = _typeToGrammar.subTypes;

  let ast;

  try {
    ast = (0, _filterExpressions.parseFilterExpression)(type, expression, userAttributes);

    if ((0, _filterExpressions.hasMatchesAdvancedNode)(subTypes)(ast)) {
      ast = (0, _filterExpressions.getMatchesAdvancedNode)(expression, ast);
    }
  } catch (_ref) {
    let message = _ref.message;
    ast = undefined;
  }

  return ast;
};

exports.updateASTFromProps = updateASTFromProps;
//# sourceMappingURL=update_ast.js.map